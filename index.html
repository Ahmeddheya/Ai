<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scalping Bot v3.2 - Professional Trading Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">⚡ Scalping Bot <span class="version">v3.2</span></h1>
                <div class="status-indicator" id="botStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Initializing...</span>
                </div>
            </div>
            <div class="header-right">
                <div class="account-balance">
                    <span class="label">Account Balance</span>
                    <span class="value" id="accountBalance">$10,000.00</span>
                </div>
                <button class="btn btn-primary" id="toggleBot">Start Trading</button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Panel: Market Overview & Charts -->
            <div class="left-panel">
                <!-- Market Cards -->
                <div class="market-cards">
                    <div class="market-card" data-symbol="BTC">
                        <div class="market-card-header">
                            <span class="symbol">BTC/USDT</span>
                            <span class="change positive" id="btcChange">+0.00%</span>
                        </div>
                        <div class="price" id="btcPrice">$0.00</div>
                        <div class="indicators">
                            <span class="indicator">RSI: <span id="btcRsi">--</span></span>
                            <span class="indicator">Vol: <span id="btcVol">--</span></span>
                        </div>
                    </div>
                    <div class="market-card" data-symbol="ETH">
                        <div class="market-card-header">
                            <span class="symbol">ETH/USDT</span>
                            <span class="change positive" id="ethChange">+0.00%</span>
                        </div>
                        <div class="price" id="ethPrice">$0.00</div>
                        <div class="indicators">
                            <span class="indicator">RSI: <span id="ethRsi">--</span></span>
                            <span class="indicator">Vol: <span id="ethVol">--</span></span>
                        </div>
                    </div>
                    <div class="market-card" data-symbol="SOL">
                        <div class="market-card-header">
                            <span class="symbol">SOL/USDT</span>
                            <span class="change positive" id="solChange">+0.00%</span>
                        </div>
                        <div class="price" id="solPrice">$0.00</div>
                        <div class="indicators">
                            <span class="indicator">RSI: <span id="solRsi">--</span></span>
                            <span class="indicator">Vol: <span id="solVol">--</span></span>
                        </div>
                    </div>
                </div>

                <!-- Price Chart -->
                <div class="card chart-card">
                    <div class="card-header">
                        <h3>Price Action - <span id="chartSymbol">BTC/USDT</span></h3>
                        <div class="timeframe-selector">
                            <button class="tf-btn active" data-tf="1m">1m</button>
                            <button class="tf-btn" data-tf="5m">5m</button>
                            <button class="tf-btn" data-tf="15m">15m</button>
                            <button class="tf-btn" data-tf="1h">1h</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="priceChart"></canvas>
                    </div>
                </div>

                <!-- Trading Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Daily ROI</div>
                        <div class="stat-value" id="dailyRoi">0.00%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Monthly ROI</div>
                        <div class="stat-value" id="monthlyRoi">0.00%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Win Rate</div>
                        <div class="stat-value" id="winRate">0%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Profit Factor</div>
                        <div class="stat-value" id="profitFactor">0.00</div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Positions & Controls -->
            <div class="right-panel">
                <!-- Position Slots -->
                <div class="card positions-card">
                    <div class="card-header">
                        <h3>Active Positions</h3>
                        <span class="badge" id="positionCount">0/2</span>
                    </div>
                    <div class="positions-container">
                        <div class="position-slot" id="slot1">
                            <div class="position-empty">
                                <span class="slot-label">Slot 1</span>
                                <span class="slot-status">Empty</span>
                            </div>
                        </div>
                        <div class="position-slot" id="slot2">
                            <div class="position-empty">
                                <span class="slot-label">Slot 2</span>
                                <span class="slot-status">Locked</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Risk Management -->
                <div class="card risk-card">
                    <div class="card-header">
                        <h3>Risk Management</h3>
                    </div>
                    <div class="risk-gauges">
                        <div class="gauge">
                            <div class="gauge-label">Daily Drawdown</div>
                            <div class="gauge-bar">
                                <div class="gauge-fill" id="dailyDrawdownBar" style="width: 0%"></div>
                            </div>
                            <div class="gauge-value" id="dailyDrawdown">0.00% / -3.00%</div>
                        </div>
                        <div class="gauge">
                            <div class="gauge-label">Weekly Drawdown</div>
                            <div class="gauge-bar">
                                <div class="gauge-fill" id="weeklyDrawdownBar" style="width: 0%"></div>
                            </div>
                            <div class="gauge-value" id="weeklyDrawdown">0.00% / -8.00%</div>
                        </div>
                        <div class="gauge">
                            <div class="gauge-label">Monthly Drawdown</div>
                            <div class="gauge-bar">
                                <div class="gauge-fill" id="monthlyDrawdownBar" style="width: 0%"></div>
                            </div>
                            <div class="gauge-value" id="monthlyDrawdown">0.00% / -15.00%</div>
                        </div>
                    </div>
                </div>

                <!-- Market Sentiment -->
                <div class="card sentiment-card">
                    <div class="card-header">
                        <h3>Market Sentiment</h3>
                    </div>
                    <div class="sentiment-content">
                        <div class="fear-greed">
                            <div class="fear-greed-value" id="fearGreedValue">50</div>
                            <div class="fear-greed-label" id="fearGreedLabel">Neutral</div>
                        </div>
                        <div class="sentiment-indicators">
                            <div class="sentiment-item">
                                <span class="sentiment-label">Momentum</span>
                                <span class="sentiment-badge" id="momentumBadge">Neutral</span>
                            </div>
                            <div class="sentiment-item">
                                <span class="sentiment-label">Volatility</span>
                                <span class="sentiment-badge" id="volatilityBadge">Normal</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4-Level Thinking System Status -->
                <div class="card thinking-card">
                    <div class="card-header">
                        <h3>4-Level Analysis</h3>
                    </div>
                    <div class="thinking-levels">
                        <div class="thinking-level" id="level1">
                            <span class="level-number">1</span>
                            <span class="level-name">Safety Gates</span>
                            <span class="level-status">⏳</span>
                        </div>
                        <div class="thinking-level" id="level2">
                            <span class="level-number">2</span>
                            <span class="level-name">Structural Analysis</span>
                            <span class="level-status">⏳</span>
                        </div>
                        <div class="thinking-level" id="level3">
                            <span class="level-number">3</span>
                            <span class="level-name">Risk Assessment</span>
                            <span class="level-status">⏳</span>
                        </div>
                        <div class="thinking-level" id="level4">
                            <span class="level-number">4</span>
                            <span class="level-name">Sentiment Check</span>
                            <span class="level-status">⏳</span>
                        </div>
                    </div>
                </div>
                
                <!-- 23-Point Checklist -->
                <div class="card checklist-card">
                    <div class="card-header">
                        <h3>23-Point Checklist</h3>
                        <span class="badge" id="checklistScore">0/23</span>
                    </div>
                    <div class="checklist-container" id="checklistContainer">
                        <div class="checklist-placeholder">Waiting for analysis...</div>
                    </div>
                </div>

                <!-- Test Results -->
                <div class="card test-card">
                    <div class="card-header">
                        <h3>Test Suite</h3>
                        <button class="btn btn-sm btn-secondary" id="runTestsBtn">Run Tests</button>
                    </div>
                    <div class="test-results" id="testResults">
                        <div class="test-summary" id="testSummary">
                            <div class="test-stat">
                                <span class="test-stat-label">Total Tests:</span>
                                <span class="test-stat-value" id="totalTests">0</span>
                            </div>
                            <div class="test-stat">
                                <span class="test-stat-label">Passed:</span>
                                <span class="test-stat-value test-passed" id="passedTests">0</span>
                            </div>
                            <div class="test-stat">
                                <span class="test-stat-label">Failed:</span>
                                <span class="test-stat-value test-failed" id="failedTests">0</span>
                            </div>
                        </div>
                        <div class="test-list" id="testList">
                            <div class="test-placeholder">Click "Run Tests" to start testing</div>
                        </div>
                    </div>
                </div>

                <!-- Trading Log -->
                <div class="card log-card">
                    <div class="card-header">
                        <h3>Trading Log</h3>
                    </div>
                    <div class="log-container" id="logContainer">
                        <div class="log-entry">
                            <span class="log-time">--:--:--</span>
                            <span class="log-message">System initialized. Ready to trade.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="trading-engine.js"></script>
    <script src="test.js"></script>
    <script src="app.js"></script>
</body>
</html>